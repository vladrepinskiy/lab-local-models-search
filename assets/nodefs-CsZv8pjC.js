import{a as e,f as t,n,t as r,u as i}from"./index-ZA3wUKFa.js";var a=t(r(),1),o=t(r(),1);i();var s=class extends e{constructor(e){super(e),this.rootDir=o.resolve(e),a.existsSync(o.join(this.rootDir))||a.mkdirSync(this.rootDir)}async init(e,t){return this.pg=e,{emscriptenOpts:{...t,preRun:[...t.preRun||[],e=>{let t=e.FS.filesystems.NODEFS;e.FS.mkdir(n),e.FS.mount(t,{root:this.rootDir},n)}]}}}async closeFs(){this.pg.Module.FS.quit()}};export{s as NodeFS};