import{f as e,i as t,l as n,t as r}from"./index-BbDGP6KA.js";import{t as i}from"./__vite-browser-external-XZpIpzxX.js";var a=e(i(),1),o=e(i(),1);n();var s=class extends t{constructor(e){super(e),this.rootDir=o.resolve(e),a.existsSync(o.join(this.rootDir))||a.mkdirSync(this.rootDir)}async init(e,t){return this.pg=e,{emscriptenOpts:{...t,preRun:[...t.preRun||[],e=>{let t=e.FS.filesystems.NODEFS;e.FS.mkdir(r),e.FS.mount(t,{root:this.rootDir},r)}]}}}async closeFs(){this.pg.Module.FS.quit()}};export{s as NodeFS};